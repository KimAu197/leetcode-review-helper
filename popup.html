<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LeetCode Spaced Repetition</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <h1>LeetCode Review Helper</h1>
      <p class="subtitle">Spaced Repetition + Practice Tracker</p>
    </div>

    <!-- 统计面板 -->
    <div class="stats-panel">
      <div class="stat-card practice">
        <div class="stat-value" id="todayPractice">0</div>
        <div class="stat-label">今日刷题</div>
      </div>
      <div class="stat-card highlight">
        <div class="stat-value" id="todayReviews">0</div>
        <div class="stat-label">待复习</div>
      </div>
      <div class="stat-card today-done">
        <div class="stat-value" id="todayCompleted">0</div>
        <div class="stat-label">已复习</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="totalProblems">0</div>
        <div class="stat-label">总题数</div>
      </div>
    </div>

    <!-- Tab导航 -->
    <div class="tabs">
      <button class="tab-btn active" data-tab="practice">今日刷题</button>
      <button class="tab-btn" data-tab="review">复习</button>
      <button class="tab-btn" data-tab="tags">按标签</button>
      <button class="tab-btn" data-tab="settings">设置</button>
    </div>

    <!-- 今日刷题标签页 -->
    <div class="tab-content active" id="tab-practice">
      <!-- Tag统计 -->
      <div id="tagStatsSection" class="tag-stats-section hidden">
        <h3 class="section-title">今日 Tag 分布</h3>
        <div id="tagStatsChart" class="tag-stats-chart"></div>
      </div>

      <!-- 刷题列表 -->
      <div id="practiceList" class="problem-list">
        <div class="empty-state">
          <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M9 11l3 3L22 4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <p>今天还没有刷题记录</p>
          <small>在LeetCode题目页点击"记录刷题"按钮</small>
        </div>
      </div>
    </div>

    <!-- 复习标签页 -->
    <div class="tab-content" id="tab-review">
      <h3 class="section-title" id="reviewPendingTitle">待复习</h3>
      <div id="reviewPendingList" class="problem-list">
        <div class="empty-state">
          <p>今天没有需要复习的题目</p>
        </div>
      </div>
      <h3 class="section-title" id="reviewDoneTitle" style="margin-top:16px;">今日已复习</h3>
      <div id="reviewDoneList" class="problem-list">
        <div class="empty-state small">
          <p>还没有完成复习</p>
        </div>
      </div>
    </div>

    <!-- 按标签标签页 -->
    <div class="tab-content" id="tab-tags">
      <div id="tagFilterSection" class="tag-filter-section">
        <p class="section-desc">选择标签查看相关题目</p>
        <div id="tagFilterChips" class="tag-filter-chips"></div>
      </div>
      <div id="tagProblemList" class="problem-list">
        <div class="empty-state">
          <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83 0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z" stroke-width="2"/>
            <line x1="7" y1="7" x2="7.01" y2="7" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <p>选择一个标签开始浏览</p>
        </div>
      </div>
    </div>

    <!-- 设置标签页 -->
    <div class="tab-content" id="tab-settings">
      <div class="settings-section">
        <h3>Google Calendar</h3>
        <p class="settings-desc">将复习计划同步到Google Calendar</p>
        <button id="connectCalendar" class="btn-primary">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2" stroke-width="2"/>
            <line x1="16" y1="2" x2="16" y2="6" stroke-width="2"/>
            <line x1="8" y1="2" x2="8" y2="6" stroke-width="2"/>
            <line x1="3" y1="10" x2="21" y2="10" stroke-width="2"/>
          </svg>
          连接Google Calendar
        </button>
        <div id="calendarStatus" class="status-message hidden"></div>
      </div>

      <div class="settings-section">
        <h3>复习间隔</h3>
        <p class="settings-desc">遗忘曲线间隔（天）</p>
        <div class="intervals">
          <span class="interval-tag">1</span>
          <span class="interval-tag">3</span>
          <span class="interval-tag">7</span>
          <span class="interval-tag">14</span>
          <span class="interval-tag">30</span>
          <span class="interval-tag">60</span>
        </div>
      </div>

      <div class="settings-section">
        <h3>数据管理</h3>
        <button id="exportData" class="btn-secondary">导出数据</button>
        <button id="importData" class="btn-secondary">导入数据</button>
        <button id="clearData" class="btn-danger">清空所有数据</button>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      <p>v1.1.0 | Made with ❤️ by Kenzie</p>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
